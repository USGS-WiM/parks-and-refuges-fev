<!DOCTYPE html>
<html>

<head>
    <title>DOI Flood Event Viewer</title>

    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <link rel="shortcut icon" id="favicon" type="image/ico" href="images/favicon.png" />

	<!-- Font Awesome  -->
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.12.0/css/all.css" integrity="sha384-ekOryaXPbeCpWQNxMwSWVvQ0+1VrStoPJq54shlYhR8HzQgig1v5fas6YgOqLoKz" crossorigin="anonymous">


	<!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/jquery.nicescroll/jquery.nicescroll.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/bootstrap-sidebar/dist/js/sidebar.js"></script>
    <script src="bower_components/leaflet/dist/leaflet-src.js"></script>
    <script src="bower_components/esri-leaflet/dist/esri-leaflet.js"></script>
    <script src="bower_components/select2/dist/js/select2.js"></script>
    <script src="bower_components/leaflet.markercluster/dist/leaflet.markercluster-src.js"></script>
    <script src="bower_components/OverlappingMarkerSpiderfier-Leaflet/index.js"></script>
    <script src="bower_components/highcharts/highcharts.js"></script>
    <script src="bower_components/highcharts/highcharts-more.js"></script>
    <script src="bower_components/highcharts/modules/exporting.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="bower_components/Leaflet.label/dist/leaflet.label.js"></script>
    <script src="bower_components/pdfmake/build/pdfmake.js"></script>
    <script src="bower_components/pdfmake/build/vfs_fonts.js"></script>
    <script src="bower_components/numbers.js/src/numbers.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/bootstrap-sidebar/dist/css/sidebar.css" />
    <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="bower_components/Leaflet.label/dist/leaflet.label.css" />
    <link rel="stylesheet" href="bower_components/select2/dist/css/select2.min.css" />
    <link rel="stylesheet" href="bower_components/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="bower_components/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker3.css" />
    <!-- endbower -->
    <!-- endbuild -->


    <!-- CSS for the mapping components -->
    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/modals.css">
    <link rel="stylesheet" href="styles/forms.css">
    <link rel="stylesheet" href="styles/misc.css">
    <link rel="stylesheet" href="styles/map.css">
    <link rel="stylesheet" href="styles/graphs.css">
    <link rel="stylesheet" href="styles/navbar.css">
    <link rel="stylesheet" href="styles/table.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <!-- endbuild -->


    <!-- build:js scripts/combined.js -->
    <script src="scripts/query.js"></script>
    <script src="scripts/utilities.js"></script>
    <script src="scripts/core.js"></script>
    <script src="scripts/populate.js"></script>
    <script src="scripts/util.js"></script>
    <script src="scripts/regionalSummary.js"></script>
    <script src="scripts/html2canvas.js"></script>
    <script src="scripts/json2csv.js"></script>
    <!-- endbuild -->

    <!-- search_api 2.1 -->
    <link rel="stylesheet" href="https://txpub.usgs.gov/DSS/search_api/2.1/api/search_api.css" />
    <script type="text/javascript" src="https://txpub.usgs.gov/DSS/search_api/2.1/api/search_api.min.js"></script>

    <!-- Turf JS -->
    <script src="https://unpkg.com/@turf/turf@5.1.6/turf.min.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-61219868-14', 'auto');
        ga('send', 'pageview');
    </script>

</head>

<body>

	<!-- 
		Navbar 
		USGS logo and title on left
		About and geosearch button on right
		///////////////////////////////////////
	-->

	<div id="navbar" class="navbar navbar-static navbar-default navbar-fixed-top navbar-dark">

		<div class="navbar-header">
			<!-- Mobile menu button -->
			<button type="button" class="navbar-toggle toggle-left hidden-md hidden-lg" data-toggle="sidebar" data-target=".sidebar-left">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<!-- Branding - logo and text -->
			<div class="branding">
				<!-- Logo -->
				<div class="branding-logo">
					<a href="https://usgs.gov" target="_blank">
						<img alt="USGS logo" src="images/USGS_ID_white.png">
					</a>
				</div>
				<span class='header-longtitle'>
					<span>Flood Events</span>
					<small>National Wildlife Refuges & National Park Service Lands</small>
				</span>
			</div>
		</div>
		
		<!-- Navigation Buttons -->
		<div class="nav-buttons">
			<!-- Faq -->
			<button id="aboutNav" class="pull-right">
				<i class="far fa-question-circle"></i>
				<span>About</span>
			</button>
			<!-- Geosearch -->
			<button id="geosearchNav" type="button">
				<i class="far fa-search"></i>
				<span>Find Location</span>
			</button>
		</div>
	</div> <!-- End Navbar -->




	<!-- 
		Welcome modal - only displays when 
			1)user arrive without event in URL 
			and 2) have not checked "don't show me this again" (preference stored in cookies)
		///////////////////////////////////////
	-->
	<div class="modal" id="welcomeModal" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content small">
				<div class="modal-top long-title">
					<b>Flood Events at National Wildlife Refuges and National Park Service Lands Viewer</b>
					<!-- <button type="button" class="close table-close" data-dismiss="modal" aria-hidden="true"><i class="far fa-times"></i></button> -->
				</div>
				<div class="modal-body">
					<p class="big center">Would you like to run a report for a region or a specific site?</p>
				</div>
				<div class="modal-buttons">
					<button id="btnChooseRegion" class="blue" type="button" aria-hidden="true" class="button blue">Region</button>
					<button id="btnChooseSite" class="blue" type="button" aria-hidden="true" class="button blue">Site</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-wrapper -->
	</div>
	<!-- end of welcome modal -->



    <!-- 
		start Load warning for site report
		///////////////////////////////////////
	-->
	<div class="modal fade" id="siteReportLoading" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content small">
				<div class="modal-top long-title">
                    <b>Loading...</b>
                </div>
                <div class="modal-body">
                    <p class="center large">Please wait while site report loads...</p>
					<div class="modal-loader"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- end Load warning for site report-->

    <!-- 
		start updateFiltersModal 
		///////////////////////////////////////
	-->
    <div class="modal" id="updateFiltersModal" aria-hidden="true">
        <div class="modal-wrapper">
            <div class="modal-content">
                <div class="modal-top">
                    <b>Site Query</b>
				</div>
				<!-- Body -->
                <div class="modal-body">
					<div class="hint center">Click to select from a list, or begin typing to search.</div>

                    <form class="modal-form" role="form">
						<!-- Lands Type -->
						<div class="form-item">
							<label for="typeSelect_filterModal">Lands Type</label>
							<select id="typeSelect_filterModal" class="typeSelectFilter" multiple="multiple"></select>
						</div>
						<!-- Site -->
						<div class="form-item ">
                            <label for="siteSelect_filterModal">Site</label>
							<select id="siteSelect_filterModal" class="siteSelect" multiple="multiple"></select>
						</div>
						
						<div class="form-item ">
                            <label for="typeSelect_welcomeModal">
								Event
								<small>(sorted by start date)</small>
							</label>
							<select id="evtSelect_updateFiltersModal" class="evtSelect_filter form-control select" multiple></select>
						</div>
                    </form>

					<!-- Buffer Distance -->
                    <div class="modal-form">

						<div class="form-item ">
                            <label for="typeSelect_welcomeModal">
								Select a buffer distance
							</label>

							<!-- Radio row -->
							<div class="radio-list horizontal">
								<label class="input-container">
									<input type="radio" name="inlineRadioOptions" id="tenKmFilter" value="option1">
									<span>10 KM</span>
								</label>
								<label class="input-container">
									<input type="radio" name="inlineRadioOptions" id="twentyKmFilter" value="option2">
									<span>20 KM</span>
								</label>
								<label class="input-container">
									<input type="radio" name="inlineRadioOptions" id="thirtyKmFilter" value="option3">
									<span>30 KM</span>
								</label>
								<label class="input-container">
									<input type="radio" name="inlineRadioOptions" id="fiftyKmFilter" value="option4">
									<span>50 KM</span>
								</label>
							</div>
						</div>
					</div>
					
					<!-- Error -->
					<div class="form-error-wrapper" id="filtersModalError">
						<!-- Error banner -->
						<div class="form-error" role="alert">
							<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> 
							<span>Please complete all fields in the form.</span>
						</div>
					</div>
					
				</div>
				<!-- Footer -->
				<div class="modal-buttons between">
					<!-- <button type="submit" class="dismissbuttonfilter" data-dismiss="modal">Dismiss</button> -->
					<button id="goBackButton" class="grey" aria-hidden="true">Go Back</button>
					<div class="modal-button-spacer"></div>
					<button id="btnSubmitEvent_filter" class="black" aria-hidden="true">Explore Map</button>
					<button id="btnActiveSiteReport" class="blue" aria-hidden="true">Generate Report</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-wrapper -->
    </div>
    <!-- end updateFiltersModal -->

	<!-- 
		Geosearch Modal
		///////////////////////////////////////
	-->
	<div class="modal fade" id="geosearchModal" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content small">
                <div class="modal-top">
                    <b>Geosearch</b>
					<button class="close" type="button" data-dismiss="modal" aria-hidden="false"><i class="far fa-times"></i></button>
				</div>
				<!-- Geosearch body -->
                <div class="modal-body">
					<!-- Search element -->
					<div id="searchMap"></div>

					<!-- Help info -->
					<div class="supported-search-strings">
						<label>Supported Search Strings:</label>
						<ul>
							<li>GNIS Locations,</li>
							<li>Lat/Long (ie. '43.9, -72.1'),</li>
							<li>States,</li>
							<li>Street Address,</li>
							<li>USGS Sites,</li> 
							<li>Zip Codes</li>
						</ul>
					</div>
					<small class="credit">Search provided by <a href="https://txpub.usgs.gov/dss/search_api/2.0/" target="_blank">USGS Search Javascript API</a></small>
				</div>
				<!-- Footer/buttons -->
                <form class="modal-buttons">
                    <button id="btnDismiss" type="submit" data-dismiss="modal">Dismiss</button>
                </form>
            </div>
        </div>
    </div>
    <!-- end Geosearch Modal -->

	<!-- 
		Site Report Modal
		///////////////////////////////////////
	-->    
	<div class="modal fade" id="printModal" aria-hidden="true" data-backdrop="static" role="dialog">
		<div class="modal-wrapper">
			<div class="modal-content large">
                <div class="modal-top">
                    <b>Report</b>
					<button type="button" id="printCloseTop" class="close" data-dismiss="modal" aria-hidden="true"><i class="far fa-times"></i></button>
				</div>
				<!-- Modal body -->
                <div class="modal-body">
					<!-- report info -->
					<div id="reportInfo"></div>

					<!-- Horizontal left-right image and legend -->
					<div class="report-map-image">
						<div id="reviewMap">
							<div class="report-loader" id="reportLoader">
								<div class="modal-loader"></div>
								<p class="large">Loading image and data...</p>
							</div>
						</div>
						<!-- Legend Image -->
						<div id="legendImage"></div>
					</div>

					<!-- Summary Data -->
					<div class="accordion large">
						<div class="accordion-header" id="summaryDataHeader">Summary Data</div>
						<div class="accordion-body">
							<!-- No data -->
							<h3 id='reportSummaryNoData' class="center no-margin">No summary data for this site</h3>
							<!-- Title -->
							<h3 id='reportSummaryTitle' class="center"></h3>
							<!-- Report info -->
							<div class='reportInfo'>
								<table class="custom-table table-scroll" id="reportSummaryDataTable"></table>
								<div class="hint" id="summaryStatsDisclaimer">
									**Please note that the summary stats
									include the height of all peak water levels calculated within the buffer for each NWR.
									All peak data reference height of water level in feet above NAVD88 datum. Inland sites
									may be located at a location where the land surface elevation is greater than zero.
								</div>
							</div>
						</div>
					</div>

					<!-- Peak Data -->
					<div class="accordion large">
						<div class="accordion-header" id="peakDataHeader">Peak Data</div>
						<div class="accordion-body">
							<!-- Report info -->
							<div class='reportInfo' id="peakTable">
								<table class="custom-table table-scroll" id="peakDataTable"></table>
							</div>
						</div>
					</div>

					<!-- HWM Data -->
					<div class="accordion large">
						<div class="accordion-header" id="hwmDataHeader">HWM Data</div>
						<div class="accordion-body">
							<!-- Report info -->
							<div class='reportInfo' id="hwmTable">
								<table class="custom-table table-scroll" id="hwmDataTable"></table>
							</div>
						</div>
					</div>

					<!-- Storm Tide Hydrographs -->
					<div class="accordion large">
						<div class="accordion-header" id="stormTideHeader">Storm Tide Hydrographs</div>
						<div class="accordion-body">
							<!-- <p><b>Storm Tide Hydrographs</b></p> -->
							<p>Each Site references a relative datum </p>
							<div id="hydrographs" style="text-align: left; font-size: medium; font-weight:bold;"></div>
							<div id="stgraphs"></div>
						</div>
					</div>

					<!-- Stream Gage Hydrographs -->
					<div class="accordion large">
						<div class="accordion-header" id="streamGageHeader">Stream Gage Hydrographs</div>
						<div class="accordion-body">
							<div id="gageGraphs" style="text-align: center; font-size: medium; font-weight:bold;"></div>
							<div id="rtgraphs"></div>
							<button class="blue" aria-hidden="true" id="loadUSGSrt">Load More</button>
						</div>
					</div>

                </div>
				<div class="modal-buttons between" id="reportFooter">
					<button id="printClose" data-dismiss="modal" aria-hidden="true">Close</button>
					<div class="modal-button-spacer"></div>
					<button class="blue" aria-hidden="true" id="saveHWMCSV" disabled>HWM CSV</button>
					<button class="blue" aria-hidden="true" id="savePeakCSV" disabled>Peak CSV</button>
					<button class="blue" aria-hidden="true" id="print" disabled>Print</button>
                </div>
            </div>
        </div>
    </div>
    </div>
	<!-- end of site report modal -->
	

	<!-- 
		Regional Report Modal
		///////////////////////////////////////
	-->
	<div class="modal fade" id="regionalModal" aria-hidden="true" data-backdrop="static" role="dialog">
		<div class="modal-wrapper">
			<div class="modal-content " id="regionModalContent">
                <div class="modal-top">
					<b>Regional Report</b>
					<!-- <button type="button" id="regReportCloseX" class="close" data-dismiss="modal" aria-hidden="true"><i class="far fa-times"></i></button> -->
				</div>
				<!-- Body -->
                <div class="modal-body">
                    <!-- begin filter panels -->
					<!--<h4 class="formSectionHead">Event Options</h4>-->
					<div id="formContainer" data-toggle="tooltip" data-placement="bottom" title="">
						<form class="modal-form" role="form" id="regionalForm">
							<!-- Lands Type -->
							<div class="form-item small">
								<label for="typeSelect_regionalModal">Lands Type</label>
								<select id="typeSelect_regionalModal" class="typeSelect" multiple="multiple"onchange="formReady()"></select>
							</div>
							<!-- Region -->
							<div class="form-item small">
								<label for="regionSelect_regionalModal">Region</label>
								<select id="regionSelect_regionalModal" class="regionSelect" multiple onchange="formReady()"></select>
							</div>
							<!-- Event -->
							<div class="form-item small">
								<label for="evtSelect_regionalModal">Event</label>
								<select id="evtSelect_regionalModal" class="evtSelectRegional" multiple onchange="formReady()"></select>
							</div>
							<!-- Buffer Size -->
							<div class="form-item small">
								<label for="bufferSelect_regionalModal">Buffer Size</label>
								<select id="bufferSelect_regionalModal" class="bufferSelect clear" multiple onchange="formReady()"></select>
							</div>
							<!-- <label for="regionType_regionalModal">Region Type:</label>
							<select id="regionType_regionalModal" class="regionType clear" multiple onchange="formReady()"></select> -->
						</form>
					</div>
					<!-- Regional Map -->
					<div id="regionalMap" style="display: none;">
					</div>
					<!-- Progress bar -->
					<div class="progress-bar">
						<div class="progress-bar-fill"></div>
					</div>

					<div class="modal-form block">
						<div class="form-item" style="display: none;">
							<!-- Radio row -->
							<div class="radio-list">
								<label class="input-container">
									<input type="checkbox" id="peakCheckboxReg" onclick="clickPeakLabelsReg()" disabled>
									<span>Peak Labels</span>
								</label>
							</div>
						</div>
					</div>


					<!-- Data Wrapper -->
					<div id="data" >

						<!-- Error banner -->
						<div class="form-error-wrapper" id="noResultsText">
							<div class="form-error warn" role="alert">
								<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> 
								<span>Data are currently not available. Please try again later.</span>
							</div>
						</div>

						<div class="form-error-wrapper" id="errorText">
							<div class="form-error warn" role="alert">
								<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> 
								<span>Error with Request. Please report this issue to lprivette@usgs.gov.</span>
							</div>
						</div>

						<div class='dataSection' id="regionalPeakTable"
							style="display:none;">
							<p id="eventsSummaryTitle" style="font-weight: bold;"></p>

							<table class="custom-table table-scroll" id="eventsSummaryTable"></table>
							<table class="custom-table table-scroll" id="summaryDataTableEOne"></table>
							<!-- <table class="table" style="table-layout: fixed;" id="eventsSummaryTable"></table> -->


							<p class="peaksDisclaimerEventOne" style="font-size: 11px;">**Please note that the
								summary stats include the height of all peak water levels calculated within the
								buffer for each NWR. All peak data reference height of water level in feet above
								NAVD88 datum. Inland sites may be located at a location where the land surface
								elevation is greater than zero.</p>
							<table class="custom-table table-scroll" id="summaryDataTableETwo"></table>
							</taxble>
							<p class="peaksDisclaimerEventTwo" style="font-size: 11px;">**Please note that the
								summary stats include the height of all peak water levels calculated within the
								buffer for each NWR. All peak data reference height of water level in feet above
								NAVD88 datum. Inland sites may be located at a location where the land surface
								elevation is greater than zero.</p>
							<table class="custom-table table-scroll" id="siteSummaryPeakDataTableEOne"></table>
							<p class="peaksDisclaimerEventOne" style="font-size: 11px;">**Please note that the
								summary stats include the height of all peak water levels calculated within the
								buffer for each NWR. All peak data reference height of water level in feet above
								NAVD88 datum. Inland sites may be located at a location where the land surface
								elevation is greater than zero.</p>
							<table class="custom-table table-scroll" id="siteSummaryPeakDataTableETwo"></table>
							<p class="peaksDisclaimerEventTwo" style="font-size: 11px;">**Please note that the
								summary stats include the height of all peak water levels calculated within the
								buffer for each NWR. All peak data reference height of water level in feet above
								NAVD88 datum. Inland sites may be located at a location where the land surface
								elevation is greater than zero.</p>
							<table class="custom-table table-scroll" id="siteSummaryHWMDataTableEOne"></table>
							<p class="hwmsDisclaimerEventOne" style="font-size: 11px;">**Please note that HWMs are an estimate of the max height of
								water in feet above NAVD88. All HWM data references height of water level in feet above NAVD88 datum. HWMs are
								designated as coastal or riverine. Some HWMs, particularly riverine, may be located at a location where the land
								surface elevation is greater than zero.</p>
							<table class="custom-table table-scroll" id="siteSummaryHWMDataTableETwo"></table>
							<p class="hwmsDisclaimerEventTwo" style="font-size: 11px;">**Please note that HWMs are an estimate of the max height of
								water in feet above NAVD88. All HWM data references height of water level in feet above NAVD88 datum. HWMs are
								designated as coastal or riverine. Some HWMs, particularly riverine, may be located at a location where the land
								surface elevation is greater than zero.</p>
							<!-- <table class="table" id="peakDataTableReg">
							</table>
							<table class="table" id="hwmDataTableReg">
							</table> -->
						</div>
					</div>
                </div> <!-- End modal body -->
				<!-- Footer / Buttons -->
                <div class="modal-buttons between">
					<button id="regReportClose" data-dismiss="modal" aria-hidden="true">Go Back</button>
					<div class="modal-button-spacer"></div>
					<button class="grey" aria-hidden="true" id="btnClearRegFilters">Clear Selections</button>
					<button class="green" aria-hidden="true" id="btnSubmitSelections" disabled>Run</button>
					<button class="blue" aria-hidden="true" id="printRegionalReport" disabled>Print Full Report</button>
					<button class="blue" aria-hidden="true" id="saveRegionalPeakCSV" disabled>Peak CSV</button>
					<button class="blue" aria-hidden="true" id="saveRegionalHWMCSV" disabled>HWM CSV</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-wrapper -->
    </div>



	<!-- 
		Image Modal
		///////////////////////////////////////
	-->
	<div class="modal fade" id="imagemodal" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content large">
				<div class="modal-top">
					<b>View Image</b>
					<button class="close" type="button" data-dismiss="modal" aria-hidden="false"><i class="far fa-times"></i></button>
				</div>
				<div class="modal-body">
					<img id="hImage" src="" class="imagepreview" style="width: 100%;">
				</div>
				<!-- Footer/close button -->
				<div class="modal-buttons">
					<button class="dismissbuttonfilter" data-dismiss="modal">Dismiss</button>
                </div>
            </div>
        </div>
    </div>

	<!-- 
		About Modal
		///////////////////////////////////////
	-->
	<div class="modal fade" id="aboutModal" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content">
				<div class="modal-top">
					<b>Flood Event Viewer</b>
					<button class="close" type="button" data-dismiss="modal" aria-hidden="false"><i class="far fa-times"></i></button>
				</div>
				<div class="modal-body tabs">
					<!-- Tabs at top -->
					<ul class="nav nav-tabs" id="aboutModalTabs">
						<li role="presentation" class="active"><a id="aboutTab" href="#aboutTabPane" data-toggle="tab"><i class="far fa-question-circle"></i>&nbsp;About the Application</a></li>
						<li role="presentation"><a id="disclaimerTab" href="#disclaimerTabPane" data-toggle="tab" onclick="ga('send','event','About Modal','click','Disclaimer');"><i class="far fa-check-circle"></i>&nbsp;Data Limitations</a></li>
					</ul>
					<!-- Tab content -->
					<div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="aboutTabPane">
                            <p>
								The USGS Flood Event Viewer (FEV) is the public data discovery component of the Short-Term Network (STN) database. Data viewable and downloadable from this page are from the STN database.
							</p>

                            <p>
								This application relies on the STN Web Services to retrieve and display STN data. Application developers and general data seekers are encouraged to use the web services data API to retrieve STN data. 
								Visit the <a href="https://stn.wim.usgs.gov/STNServices/Documentation/home" target="_blank">STN Web Services Documentation Page <i class="fa fa-external-link" aria-hidden="true"></i></a>
								for more information, including full documentation of available endpoints and examples. See the <a href="https://my.usgs.gov/confluence/display/WSN/STN+Data+Dictionary+-+Top+Level" target="_blank">STN Data Dictionary</a>
								for field names and definitions.
							</p>

                            <p>
								This application integrates with the <a href="https://waterdata.usgs.gov/nwis" target="_blank">USGS National Water Information System (NWIS) database <i class="fa fa-external-link" aria-hidden="true"></i></a>
								for display of time-series water data. As a user of FEV you will encounter links to NWIS pages and data sources, which are maintained separately from STN and FEV.
							</p>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="disclaimerTabPane">
                            <p>
								Data are provisional and are subject to revision until thoroughly reviewed and approved.
                            </p>

                            <p>
								Real-time data relayed by satellite or other telemetry are automatically screened to not display improbable values until they can be verified.
							</p>

                            <p>
								Provisional data may be inaccurate due to instrument malfunctions or physical changes at the measurement site. Subsequent review based on field inspections and measurements may result in significant revisions to the data.
							</p>

                            <p>
								The data are being provided to meet the need for timely best science and are released on the condition that neither the USGS nor the U.S. Government may be held liable for any damages resulting from authorized or unauthorized use of the information. Data users are cautioned to consider carefully the provisional nature of the information before using it for decisions that concern personal or public safety or the conduct of business that involves substantial monetary or operational consequences.
							</p>

                            <p>
								Information concerning the accuracy and appropriate uses of these data or concerning other hydrologic data may be obtained from the USGS.
							</p>
                        </div>

                    </div>
                </div>
				<!-- Footer / buttons -->
                <div class="modal-buttons between">
                    <div id="aboutModalWIM">
						<a href="https://wim.usgs.gov/" target="_blank" id="aboutModalWIMImage"><img src="images/favicon.png"></a>
						<div id="aboutModalWIMText">
							<span>
								For more information about the Flood Event Viewer please contact <a href="https://wim.usgs/gov/" target="_blank">WIM</a>
							</span>
						</div>
                    </div>
					<button type="submit" class="dismissbuttonfilter" data-dismiss="modal">Close</button>
                </div>
            </div><!-- /.modal-content -->
        </div> <!-- /.modal-dialog -->
    </div><!-- /.modal -->

	<!-- USGS Search Down Modal -->
<div id="searchDownModal" aria-hidden="true" class="modal fade overflow-y-hidden" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3 style="text-align: center">The USGS Search is currently down.</h3>
			</div>
			<div class="modal-body">
				<p>Unfortunately, the Find Location tool is not available at the moment.</p>
			</div>
			<div class="modal-footer">
				<div style="text-align: center">
					<button type="button" class="btn btn-default" data-dismiss="modal" style="background-color: #ffd1d1">OK</button>
				</div>
			</div>
		</div>
	</div>
</div>
<!--End USGS Search Down Modal -->
	<!-- 
		Filters Modal
		///////////////////////////////////////
	-->
	<div class="modal fade" id="filtersModal" aria-hidden="true">
		<div class="modal-wrapper">
			<div class="modal-content">
				<div class="modal-top">
					<b>Filters</b>
					<button class="close" type="button" data-dismiss="modal" aria-hidden="false"><i class="far fa-times"></i></button>
				</div>
				<div class="modal-body">
					<!-- <label for="evtTypeSelect">Event Type</label>
					<select id="evtTypeSelect" style="width: 100%" multiple class="clearable"></select> -->
					<div class="form-item">
						<label for="evtSelect_filterModal">Event:</label>
						<select id="evtSelect_filterModal" class="evtSelect" multiple></select>
					</div>
					<!-- <label>Event Status</label>
					<label class="input-container">
						<input type="checkbox"  name="active" id="active">
						<span>Active</span>
					</label>
					<label class="input-container">
						<input type="checkbox" class="check" name="complete" id="complete">
						<span>Complete</span>
					</label> -->

					<div class="form-item">
						<label for="stateSelect">State:</label>
						<select id="stateSelect" style="width: 100%" multiple="multiple" class="clearable"></select>
					</div>
					<div class="form-item">
						<label for="countySelect">County:</label>
						<select id="countySelect" multiple class="clearable">
							<option value=null>Please select state(s) first </option>
						</select>
					</div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-body">
                            <!--<h4 class="formSectionHead">Data Type Options</h4>-->
                            <form class="form-horizontal" role="form" id="selectRadDiv">
                                <div class="form-group" id="dataTypeForm">
                                    <label for="selectionRadios">Data type</label>
                                    <div class="col-sm-10 filterForms">
                                        <div class="btn-group" data-toggle="buttons" id="selectionRadios">
                                            <label class="btn btn-default dataTypeRadio active" id="sensor">
                                                <input type="radio" name="dataOptions" value="sensor" id="sensorRad"
                                                    checked>Sensor Data
                                            </label>
                                            <label class="btn btn-default dataTypeRadio" id="hwm">
                                                <input type="radio" name="dataOptions" value="hwm"
                                                    id="hwmRad">High-Water Mark Data
                                            </label>
                                            <label class="btn btn-default dataTypeRadio" id="peak">
                                                <input type="radio" name="dataOptions" value="peak" id="peakRad">Peak
                                                Summary Data
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <form class="form-horizontal hidden" role="form">
                                <div class="form-group" id="sensorTypeForm">
                                    <label for="sensorTypeSelect" class="col-sm-3 control-label filterForms">Sensor
                                        Type</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="sensorTypeSelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                                <div class="form-group" id="statusForm">
                                    <label for="sensorStatusSelect"
                                        class="col-sm-3 control-label filterForms">Status</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="sensorStatusSelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                                <div class="form-group" id="collectionConditionForm">
                                    <label for="collectionConditionSelect"
                                        class="col-sm-3 control-label filterForms">Collection Condition</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="collectionConditionSelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                                <div class="form-group" id="deployTypeForm">
                                    <label for="deployTypeSelect" class="col-sm-3 control-label filterForms">Deployment
                                        Type</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="deployTypeSelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                            </form>
                            <form class="form-horizontal hidden" role="form" id="hwmForm">
                                <div class="form-group" id="hwmTypeForm">
                                    <label for="hwmTypeSelect" class="col-sm-3 control-label filterForms">HWM
                                        Type</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="hwmTypeSelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                                <div class="form-group" id="hwmQualityForm">
                                    <label for="hwmQualitySelect"
                                        class="col-sm-3 control-label filterForms">Quality</label>
                                    <div class="col-sm-9 filterForms">
                                        <select id="hwmQualitySelect" style="width: 100%" multiple
                                            class="clearable"></select>
                                    </div>
                                </div>
                                <div class="form-group" id="envForm">
                                    <label for="envRadios"
                                        class="col-sm-3 control-label filterForms">Environment</label>
                                    <div class="col-sm-9 filterForms">
                                        <div class="btn-group" data-toggle="buttons" id="envRadios">
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="coastal" id="coastal">Coastal <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="river" id="riverine">Riverine <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" id="surveyedForm">
                                    <label for="surveyedRadios" class="col-sm-3 control-label filterForms">Survey
                                        Completed</label>
                                    <div class="col-sm-9 filterForms">
                                        <div class="btn-group" data-toggle="buttons" id="surveyedRadios">
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="yes" id="surveyCompleteYes">Yes <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="no" id="surveyCompleteNo">No <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" id="stillwaterForm">
                                    <label for="stillWtrRadios" class="col-sm-3 control-label filterForms">Stillwater
                                        location</label>
                                    <div class="col-sm-9 filterForms">
                                        <div class="btn-group" data-toggle="buttons" id="stillWtrRadios">
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="yes" id="stillWaterYes">Yes <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                            <label class="btn btn-default check">
                                                <input type="checkbox" name="no" id="stillWaterNo">No <span
                                                    class="glyphicon glyphicon-ok selected"
                                                    style="display: none"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <form class="form-horizontal hidden" role="form" id="peakForm">
                                <div class="form-group" id="peakDateForm">
                                    <label for="peakDatePicker" class="col-sm-3 control-label filterForms">Peak
                                        Date</label>
                                    <div class="col-sm-9 filterForms" id="peakDatePicker">
                                        <div class="input-daterange input-group">
                                            <input type="text" class="input-sm form-control" name="start"
                                                id="peakStartDate" />
                                            <span class="input-group-addon">to</span>
                                            <input type="text" class="input-sm form-control" name="end"
                                                id="peakEndDate" />
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- end filter panels -->
                    <div class="alert alert-danger form-error-wrapper" role="alert"><i class="fa fa-exclamation-triangle"
                            aria-hidden="true"></i> Please choose an event to proceed.</div>
				</div><!-- End modal body -->
				<!-- footer / buttons -->
                <div class="modal-buttons">
                    <span>FEV requires an event selection to view data. You cannot clear the event filter, only change
                        it.</span>
                    <button id="btnClearFilters" aria-hidden="true" class="grey">Clear Filters</button>
                    <button aria-hidden="true" class="blue">Filter</button>
                    <button data-dismiss="modal" aria-hidden="true">Close</button>
                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal-wrapper -->
    </div>



	<!-- 
		///////////////////////////////////////
		///////////////////////////////////////
		Page Content
		///////////////////////////////////////
		///////////////////////////////////////
	-->
    <div class="container-fluid full-height">
        <div class="row full-height">

			<!-- 
				Sidebar
				///////////////////////////////////////
			-->
			<div id="sidebar" class="no-scrollbars col-xs-11 col-sm-10 col-md-3 col-lg-2 sidebar sidebar-left sidebar-animate sidebar-md-show no-col-padding">
				
				<!-- Site info -->
				<div id="sidebarSiteInfo">
					<label id="sidebarSiteLabel" class="hidden">Site:</label>
					<b id="largeSiteNameDisplay"></b>

					<label>Event:</label>
					<b id="largeEventNameDisplay"></b>

					<div id="largeEventDateRangeDisplay"></div>
				</div>


				<!-- Action Buttons -->
                <div class="panel-body panel-default wim-sidebar-panel collapse in sidebar-action-buttons">
                    <button id="printNav" class="blue" disabled>
                        <i id='printButtonLoader'></i><span id="printButtonText">  Print Site Report</span>
                    </button>

                    <button id="btnStartOver" class="red">
						<span id="startOverButtonText">Start Over</span>
					</button>
                </div>



				<!-- 
					Map Layers
					///////////////////////////////////////
				-->
				<div class="panel panel-default wim-sidebar-panel">
					<a class="panel-title collapsed" data-toggle="collapse" id="mapLayerHeader" href="#mapLayersPanel" aria-expanded="false" aria-controls="basemapsPanel">
						Map Layers
					</a>
					<div id="mapLayersPanel" class="panel-collapse collapse" role="tabpanel" aria-labelledby="mapLayerHeader">
						<div class="panel-body collapse in">

							<!-- Zoom Alert -->
							<div class="form-error-wrapper" id="rtScaleAlert">
								<!-- Error banner -->
								<div class="form-error small warn" role="alert">
									<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> 
									<span>
										Real-time, NPS, and FWS layers only available at zoom level 9 and above. Please zoom in to view.
										<br/>
										<b>You are currently at level <div class="zoom-level"></div></b>
									</span>
								</div>
							</div>
						
							<!-- Interpreted Data -->
							<div class="accordion">
								<div class="accordion-header">Interpreted Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id="peaksToggle" onclick="clickPeaks()" />
										<span>Peak Summary</span>
									</label>
									<label class="input-container nested">
										<input type="checkbox" id="peakCheckbox" onclick="clickPeakLabels()" />
										<span>Toggle Labels</span>
									</label>
								</div>
							</div>

							<!-- Real-Time Data -->
							<div class="accordion">
								<div class="accordion-header">Real-Time Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id="streamGageToggle" onclick="clickStreamGage()"/>
										<span>Real-time Stream Gage</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="rainGageToggle" onclick="clickRainGage()" />
										<span>Real-time Rain Gage</span>
									</label>
								</div>
							</div>

							<!-- Observed Layers -->
							<div class="accordion">
								<div class="accordion-header">Observed Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id="baroToggle" onclick="clickBaro()" />
										<span>Barometric Pressure Sensor</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="stormTideToggle" onclick="clickStormTide()" />
										<span>Storm Tide Sensor</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="metToggle" onclick="clickMet()" />
										<span>Meteorological Sensor</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="waveHeightToggle" onclick="clickWaveHeight()" />
										<span>Wave Height Sensor</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="HWMToggle" onclick="clickHWM()" />
										<span>High Water Mark</span>
									</label>

									<label class="input-container">
										<input type="checkbox" id="rdgToggle" onclick="clickRdg()" />
										<span>Rapid Deployment Gage</span>
									</label>

								</div>
							</div>

							<!-- NPS Layers -->
							<div class="accordion">
								<div class="accordion-header">NPS Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id=tractToggle onclick="clickTracts()" />
										<span>Park Tracts</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id=parkBoundsToggle onclick="clickBounds()" />
										<span>Park Boundaries</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id=npsNetToggle onclick="clickNPSNetworks()" />
										<span>NPS Networks</span>
									</label>
								</div>
							</div>

							<!-- FWS Layers -->
							<div class="accordion">
								<div class="accordion-header">FWS Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id=approvedFWSToggle onclick="clickApprovedFWS()" />
										<span>Approved Aquisition Boundaries</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id=interestFWSToggle onclick="clickInterestFWS()" />
										<span>Interest Boundaries</span>
									</label>
								</div>
							</div>

							<!-- DOI Layers -->
							<div class="accordion">
								<div class="accordion-header">DOI Data</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id=doiToggle onclick="clickDOI()" />
										<span>DOI Regions</span>
									</label>
								</div>
							</div>

							<!-- Supporting Layers -->
							<div class="accordion">
								<div class="accordion-header">Supporting Layers</div>
								<div class="accordion-body">
									<label class="input-container">
										<input type="checkbox" id="crmsToggle" onclick="clickCRMS()" />
										<span>Coastwide Reference Monitoring System (LA Only)</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id="fimanToggle" onclick="clickFIMAN()" />
										<span>Flood Inundation Mapping and Alert Network (NC Only)</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id="tideCurrentToggle" onclick="clickTideCurrent()" />
										<span>NOAA Tides and Currents</span>
									</label>
									<label class="input-container">
										<input type="checkbox" id=noaaToggle onclick="clickNOAA()" />
										<span>NOAA Tropical Cyclone Forecast Track</span>
									</label>
								</div>
								<div id="noTrackAdvisory"></div>
							</div>

						</div>
					</div>
				</div>	

				<!-- 
					Basemaps
					///////////////////////////////////////
				-->
				<div class="panel panel-default wim-sidebar-panel">
					<a class="panel-title collapsed" data-toggle="collapse" id="basemapsHeader" href="#basemapsPanel" aria-expanded="false" aria-controls="basemapsPanel">
						Basemaps
					</a>
					<div id="basemapsPanel" class="panel-collapse collapse" role="tabpanel" aria-labelledby="basemapsHeader">
						<div class="panel-body collapse in">
							<button id="btnStreets" class="basemap-button">
								<img alt="" src="images/basemaps/streets.jpg">
								<span>Streets</span>
							</button>
							<button id="btnSatellite" class="basemap-button" >
								<img alt="" src="images/basemaps/satellite.jpg">
								<span>Satellite</span>
							</button>
							<button id="btnHybrid" class="basemap-button">
								<img alt="" src="images/basemaps/imagery_labels.jpg">
								<span>Hybrid</span>
							</button>
							<button id="btnTopo" class="basemap-button">
								<img alt="" src="images/basemaps/topo.jpg">
								<span>Topo</span>
							</button>
							<button id="btnTerrain" class="basemap-button">
								<img alt="" src="images/basemaps/terrain.jpg">
								<span>Terrain</span>
							</button>
							<button id="btnGray" class="basemap-button" >
								<img alt="" src="images/basemaps/gray.jpg">
								<span>Grery</span>
							</button>
							<button id="btnOSM" class="basemap-button">
								<img alt="" src="images/basemaps/osm.jpg">
								<span>OSM</span>
							</button>
							<button id="btnNatGeo" class="basemap-button">
								<img alt="" src="images/basemaps/natgeo.jpg">
								<span>NatGeo</span>
							</button>
							<button id="btnNatlMap" class="basemap-button">
								<img alt="" src="images/basemaps/national_map.jpg">
								<span>Nat'l Map</span>
							</button>
						</div>

					</div>
				</div>
			
				<!-- 
					Sidebar Footer Links
					///////////////////////////////////////
				-->                
				<div class="footer-links">
					<div class="identification"><a href="https://wim.usgs.gov/" target="_blank">Powered by WIM <img src="images/favicon.png" style="height: 18px; width: auto; margin-bottom:4px;"/></a></div>
					<a href="https://usgs.gov" target="_blank">USGS Home</a>
					<a href="https://answers.usgs.gov" target="_blank">Contact USGS</a>
					<a href="https://search.usgs.gov" target="_blank">Search USGS</a>
					<a href="https://www2.usgs.gov/laws/accessibility.html" target="_blank">Accessibility</a>
					<a href="https://www2.usgs.gov/foia/" target="_blank">FOIA</a>
					<a href="https://www2.usgs.gov/laws/privacy.html" target="_blank">Privacy</a>
					<a href="https://www2.usgs.gov/laws/policies_notices.html" target="_blank">Policies & Notices</a>
				</div>

			</div> <!-- End Sidebar -->
			

			<!-- 
				Map container
				///////////////////////////////////////
			-->

			<div class="map-wrapper">

				<!-- Map -->
                <div id="mapDiv">
				</div>
				

				<!--Legend / Active Layers-->
				<div id="legendElement" class="panel panel-default legendClass">
                    <div id="legendHeading" class="legendHeading" role="tab">
                        <h4 class="panel-title">
                            <div data-toggle="collapse" id="legendButton"  href="#legendCollapse" aria-expanded="true" aria-controls="collapseOne">
                                <i class="far fa-list-ul"></i>
                                <span>Active Layers</span>
							</div>
                        </h4>
					</div>
					
					<!-- Legend -->
                    <div id="legendCollapse" class="panel-collapse" role="tabpanel">
                        <div id="legendDiv">
							<!--insert legend elements here -->
							<div class="legend-item-wrapper">
								<div id="PeakSummarySymbology"></div>
								<div class="legend-item" id="streamGageSymbology"></div>
								<div class="legend-item" id="rainGageSymbology"></div>
								<div class="legend-item" id="barometricSymbology"></div>
								<div class="legend-item" id="stormTideSymbology"></div>
								<div class="legend-item" id="meteorlogicalSymbology"></div>
								<div class="legend-item" id="waveHeightSymbology"></div>
								<div class="legend-item" id="highWaterSymbology"></div>
								<div class="legend-item" id="rdgSymbology"></div>
								<div id="parkTractsSymbology"></div>
								<div class="legend-item" id="parkBoundsSymbology"></div>
								<div class="legend-item" id="npsNetworksSymbology"></div>
								<div class="legend-item" id="approvedFWSSymbology"></div>
								<div id="interestFWSSymbology"></div>
								<div class="legend-item" id="doiSymbology"></div>								
								<div class="legend-item" id="crmsSymbology"></div>
								<div class="fimanTitle" id="fimanSymbology"></div>
								<div class="legend-item" id="tideCurrentSymbology"></div>
								<div class="legend-item" id="noaaCycloneSymbology"></div>
                       	 	</div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End of Active Layers panel-->


			<!-- Lat Lng Scale -->
			<div id="latLngScale">
				<div>
					<span class="hover-content"> <b>Map scale </b></span>
					1:<span id="scale"></span>
					<i class="fas fa-grip-lines-vertical"></i>
					<span class="hover-content"> <b>Zoom level </b></span> 
					<span class="zoom-level"></span>
				</div>
				<div>
					<span class="hover-content"><b>Latitude</b></span>
					<span id="latitude">y</span>
					<i class="fas fa-grip-lines-vertical"></i>
					<span class="hover-content"> <b>Longitude</b></span>
					<span id="longitude">x</span>
					<span id="mapCenterLabel"  class="hover-content"> (center)</span>
				</div>
			</div>

			<!-- Other Buttons -->
            <div id="homeButton"></div>
            <div id="locateButton"></div>


        </div>
    </div>

</body>

</html>